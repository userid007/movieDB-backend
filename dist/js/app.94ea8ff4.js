(function(){"use strict";var t={8164:function(t,a,e){var s=e(144),i=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-white navbar-expand-lg",attrs:{"aria-label":"Toggle navigation"}},[a("div",{staticClass:"container-fluid"},[a("a",{staticClass:"navbar-brand"},[t._v("MovieDB")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"/home"}},[t._v("Home")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"/create"}},[t._v("Create Playlist")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"/private"}},[t._v("My Playlist")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"/public"}},[t._v("Public Playlist")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loggedin,expression:"!loggedin"}]},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"d-flex nav-link",attrs:{"aria-current":"page",to:"/login"}},[t._v("Login")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"d-flex nav-link",attrs:{"aria-current":"page",to:"/register"}},[t._v("Register")])],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loggedin,expression:"loggedin"}]},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"d-flex nav-link",attrs:{"aria-current":"page",to:"/logout"}},[t._v("Logout")])],1)])])])])]),a("router-view")],1)},o=[function(){var t=this,a=t._self._c;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],n=(e(7658),s.ZP.mixin({methods:{isloggedin(){if(localStorage.getItem("accessToken"))return!0;this.$router.push("login")}}})),l={mixins:[n],data(){return{loggedin:!1}},beforeMount(){console.log(localStorage.getItem("accessToken")),localStorage.getItem("accessToken")?this.loggedin=!0:this.loggedin=!1}},r=l,c=e(1001),u=(0,c.Z)(r,i,o,!1,null,null,null),p=u.exports,d=e(8345),m=function(){var t=this,a=t._self._c;return a("div",{staticClass:"search"},[a("form",{staticClass:"form-search",on:{submit:function(a){return a.preventDefault(),t.SearchMovie.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.movieName,expression:"movieName"}],staticClass:"form-control middle d-inline",attrs:{type:"text",placeholder:"Type here to search",name:"Search",required:"",autofocus:""},domProps:{value:t.movieName},on:{input:function(a){a.target.composing||(t.movieName=a.target.value)}}}),t._m(0)]),a("div",{staticClass:"row w-100 h-100"},t._l(t.moviesList,(function(t){return a("MovieCard",{key:t.imdbID,attrs:{minfo:t,show:!0}})})),1)])},v=[function(){var t=this,a=t._self._c;return a("button",{staticClass:"d-inline btn btn-lg btn-primary btn-block mt-2",attrs:{type:"submit"}},[a("i",{staticClass:"fa-solid fa-magnifying-glass"})])}],h=function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-sm-2 card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.minfo.Poster,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(t.minfo.Title))]),a("p",{staticClass:"card-text"},[t._v(" "+t._s(t.minfo.Year)+" ")]),t.show?a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#"+t.minfo.imdbID},on:{click:t.getPlaylist}},[t._v(" Add to Playlist ")]):t._e(),t.show?a("div",{staticClass:"modal fade",attrs:{id:t.minfo.imdbID,tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"false"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"list-group"},[t.movielist&&0===t.movielist.length?a("a",{attrs:{href:"","data-bs-dismiss":"modal","aria-label":"Close"},on:{click:function(a){return t.tocreate()}}},[t._v("Please create playlist first")]):t._e(),t._l(t.movielist,(function(e){return a("a",{key:e._id,staticClass:"list-group-item list-group-item-action",attrs:{"aria-current":"true"},on:{click:function(a){return t.addToPlaylist(e._id)}}},[t._v(" "+t._s(e.name)+" ")])}))],2)]),t._m(1)])])]):t._e()])])},g=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" Add to Playlist ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")])])}],f=e(594),y={props:{minfo:{type:Object},show:{type:Boolean,default:!0}},data(){return{movielist:void 0,showmsg:!1}},created(){this.show&&this.getPlaylist()},methods:{tocreate(){this.$router.push("create")},getPlaylist(){const t=this;f.Z.get("https://cute-pink-moth-tux.cyclic.app//api/v1/playlist/private",{headers:{authorization:localStorage.getItem("accessToken")}}).then((function(a){console.log(a),t.movielist=a.data.data})).catch((function(t){console.log(t)}))},addToPlaylist(t){console.log(t),console.log(this.minfo.Title),f.Z.put("https://cute-pink-moth-tux.cyclic.app//api/v1/playlist/update",{movieListId:t,movieId:this.minfo.imdbID},{headers:{authorization:localStorage.getItem("accessToken")}}).then((function(t){console.log(t),alert("Movie added to playlist "+t.data.data.name)})).catch((function(t){console.log(t),alert("Error")}))}}},b=y,C=(0,c.Z)(b,h,g,!1,null,"2352ec00",null),_=C.exports,k={mixins:[n],components:{MovieCard:_},data(){return{movieName:"",moviesList:[]}},methods:{SearchMovie(){const t=this;f.Z.get(`https://www.omdbapi.com/?apikey=4392338a&s=${this.movieName}`).then((function(a){console.log(a),t.moviesList=a.data.Search})).catch((function(t){console.log(t)}))}},beforeMount(){this.isloggedin()}},P=k,w=(0,c.Z)(P,m,v,!1,null,"15aaa138",null),x=w.exports,Z=function(){var t=this,a=t._self._c;return a("div",{staticClass:"text-center center"},[a("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.login.apply(null,arguments)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Sign In")]),a("input",{staticClass:"form-control top",attrs:{type:"text",placeholder:"Username",name:"Username",required:"",autofocus:""}}),a("input",{staticClass:"form-control bottom",attrs:{type:"password",placeholder:"Password",name:"password",required:""}}),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" Login ")]),t.err?a("div",{staticClass:"alert alert-danger mt-2",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])},I=[],S={data(){return{err:!1,msg:""}},mounted(){console.log(this.$router)},methods:{login(t){const a=this;f.Z.post("https://cute-pink-moth-tux.cyclic.app//api/v1/auth/login",{username:t.target[0].value,password:t.target[1].value}).then((function(t){console.log(t),localStorage.setItem("accessToken","Bearer "+t.data.data.accessToken),a.err=!1,a.$router.push("home"),window.location.reload()})).catch((function(t){console.log(t),a.msg=t.response.data.message,a.err=!0}))}}},T=S,M=(0,c.Z)(T,Z,I,!1,null,"3e7cdafd",null),L=M.exports,N=function(){var t=this,a=t._self._c;return a("div")},$=[],O={beforeMount(){localStorage.clear(),this.$router.push("login"),window.location.reload()}},j=O,D=(0,c.Z)(j,N,$,!1,null,"5e19df9f",null),q=D.exports,A=function(){var t=this,a=t._self._c;return a("div",{staticClass:"text-center center"},[a("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.register.apply(null,arguments)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Sign Up")]),a("input",{staticClass:"form-control top",attrs:{type:"text",placeholder:"Username",name:"username",required:"",autofocus:""}}),a("input",{staticClass:"form-control middle",attrs:{type:"password",placeholder:"Password",name:"password",required:""}}),a("input",{staticClass:"form-control bottom",attrs:{type:"password",placeholder:"Confirm Password",name:"passwordConfirmation",required:""}}),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" Sign Up ")]),t.err?a("div",{staticClass:"alert alert-danger mt-2",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])},z=[],U={data(){return{err:!1,msg:""}},methods:{register(t){const a=this;t.target[1].value!==t.target[2].value?(a.err=!0,a.msg="Comfirm password shoud match"):f.Z.post("https://cute-pink-moth-tux.cyclic.app//api/v1/auth/register",{username:t.target[0].value,password:t.target[1].value}).then((function(t){console.log(t),a.err=!1,a.$router.push("login")})).catch((function(t){console.log(t),a.msg=t.response.data.message,a.err=!0}))}}},B=U,E=(0,c.Z)(B,A,z,!1,null,"3c8d9252",null),F=E.exports,H=function(){var t=this,a=t._self._c;return a("div",[0===t.playlists.length?a("div",[a("h1",[t._v("No playlists are available")])]):t._e(),a("div",{staticClass:"moviecards"},t._l(t.playlists,(function(e){return a("PlaylistComponent",{key:e._id,attrs:{pinfo:e,type:t.type}})})),1)])},R=[],Y=function(){var t=this,a=t._self._c;return a("div",{staticClass:"list-group pt-3",on:{click:t.getPlaylist}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body",staticStyle:{"font-weight":"900"}},[a("h3",{staticClass:"mb-1"},[t._v(t._s(t.pinfo.name))])])]),a("div",{staticClass:"list-group-item"},[a("div",{staticClass:"d-flex justify-content-between"},[a("div",[a("h6",{staticClass:"text-dark"},[t._v(t._s(t.pinfo.type))]),a("h6",{staticClass:"text-dark"},[t._v("Created by : "+t._s(t.pinfo.username))]),a("h6",{staticClass:"text-dark"},[t._v("Creation Time : "+t._s(t.pinfo.createdAt))])])])])])},G=[],J={props:{pinfo:{type:Object},type:{type:String}},data(){return{playlists:[]}},methods:{getPlaylist(){localStorage.setItem("playlist",this.pinfo._id),localStorage.setItem("type",this.type),this.$router.push("playlist")}}},K=J,Q=(0,c.Z)(K,Y,G,!1,null,"0828d48a",null),V=Q.exports,W={mixins:[n],components:{PlaylistComponent:V},data(){return{playlists:[],type:"public"}},created(){const t=this;f.Z.get("https://cute-pink-moth-tux.cyclic.app//api/v1/playlist/public").then((function(a){console.log(a.data.data),t.playlists=a.data.data;for(var e=0;e<t.playlists.length;e++)t.playlists[e].isPrivate?t.playlists[e].type="Private":t.playlists[e].type="Public"})).catch((function(t){console.log(t)}))}},X=W,tt=(0,c.Z)(X,H,R,!1,null,"14b93756",null),at=tt.exports,et=function(){var t=this,a=t._self._c;return a("div",[0===t.playlists.length?a("div",[a("h1",[t._v("No playlists are available")])]):t._e(),a("div",{staticClass:"moviecards"},t._l(t.playlists,(function(e){return a("PlaylistComponent",{key:e._id,attrs:{pinfo:e,type:t.type}})})),1)])},st=[],it={mixins:[n],components:{PlaylistComponent:V},data(){return{playlists:[],type:"private"}},created(){this.isloggedin();const t=this;f.Z.get("https://cute-pink-moth-tux.cyclic.app//api/v1/playlist/private",{headers:{authorization:localStorage.getItem("accessToken")}}).then((function(a){console.log(a.data.data),t.playlists=a.data.data;for(var e=0;e<t.playlists.length;e++)t.playlists[e].isPrivate?t.playlists[e].type="Private":t.playlists[e].type="Public"})).catch((function(t){console.log(t)}))}},ot=it,nt=(0,c.Z)(ot,et,st,!1,null,"d9c33dbe",null),lt=nt.exports,rt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"text-center center"},[a("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.createPlaylist.apply(null,arguments)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Create Playlist")]),a("input",{staticClass:"form-control middle",attrs:{type:"text",placeholder:"Playlist Name",name:"name",required:"",autofocus:""}}),a("div",{staticClass:"form-check middle d-flex justify-content-between mt-2"},[a("label",{staticClass:"form-check-label",attrs:{for:"isPrivate"}},[t._v("Private List")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPrivate,expression:"isPrivate"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"isPrivate",id:"isPrivate"},domProps:{checked:Array.isArray(t.isPrivate)?t._i(t.isPrivate,null)>-1:t.isPrivate},on:{change:function(a){var e=t.isPrivate,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,n=t._i(e,o);s.checked?n<0&&(t.isPrivate=e.concat([o])):n>-1&&(t.isPrivate=e.slice(0,n).concat(e.slice(n+1)))}else t.isPrivate=i}}})]),a("button",{staticClass:"btn btn-lg btn-primary btn-block mt-2",attrs:{type:"submit"}},[t._v(" Create Playlist ")]),t.err?a("div",{staticClass:"alert alert-danger mt-2",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])},ct=[],ut={data(){return{err:!1,msg:"",isPrivate:!1}},methods:{createPlaylist(t){const a=this;f.Z.post("https://cute-pink-moth-tux.cyclic.app//api/v1/playlist/create",{name:t.target[0].value,isPrivate:a.isPrivate},{headers:{authorization:localStorage.getItem("accessToken")}}).then((function(t){console.log(t),a.err=!1,a.$router.push("home")})).catch((function(t){console.log(t),a.msg=t.response.data.message,a.err=!0}))}},beforeMount(){this.isloggedin()}},pt=ut,dt=(0,c.Z)(pt,rt,ct,!1,null,"66794a52",null),mt=dt.exports,vt=function(){var t=this,a=t._self._c;return a("div",[0===t.moviesList.length?a("div",[a("h1",[t._v("No movies added in playlist")])]):a("div",{staticClass:"row w-100 h-100"},t._l(t.moviesList,(function(t){return a("MovieCard",{key:t.imdbID,attrs:{minfo:t,show:!1}})})),1)])},ht=[],gt={mixins:[n],components:{MovieCard:_},data(){return{playlistId:"",moviesList:[],type:"public"}},beforeCreate(){this.playlistId=localStorage.getItem("playlist"),this.type=localStorage.getItem("type");const t=this;var a="";console.log(t.type),"private"===t.type?a=`https://cute-pink-moth-tux.cyclic.app//api/v1/playlist/privatelist/${t.playlistId}`:"public"===t.type&&(a=`https://cute-pink-moth-tux.cyclic.app//api/v1/public/playlist/${t.playlistId}`),f.Z.get(a,{headers:{authorization:localStorage.getItem("accessToken")}}).then((function(a){console.log(a.data.data);for(const e of a.data.data.moviesId)f.Z.get(`https://www.omdbapi.com/?apikey=4392338a&i=${e}`).then((function(a){console.log(a),t.moviesList.push(a.data)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},ft=gt,yt=(0,c.Z)(ft,vt,ht,!1,null,"a99fe980",null),bt=yt.exports;s.ZP.use(d.ZP);const Ct=[{path:"/home",name:"home",component:x},{path:"/login",name:"login",component:L},{path:"/register",name:"register",component:F},{path:"/logout",name:"logout",component:q},{path:"/create",name:"createPlaylist",component:mt},{path:"/public",name:"publicPlaylist",component:at},{path:"/private",name:"privatePlaylist",component:lt},{path:"/playlist",name:"playlist",component:bt}],_t=new d.ZP({routes:Ct});var kt=_t;s.ZP.config.productionTip=!0,s.ZP.prototype.$isloggedin=!1,new s.ZP({router:kt,render:t=>t(p)}).$mount("#app")}},a={};function e(s){var i=a[s];if(void 0!==i)return i.exports;var o=a[s]={exports:{}};return t[s](o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(a,s,i,o){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],o=t[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&o||n>=o)&&Object.keys(e.O).every((function(t){return e.O[t](s[r])}))?s.splice(r--,1):(l=!1,o<n&&(n=o));if(l){t.splice(u--,1);var c=i();void 0!==c&&(a=c)}}return a}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[s,i,o]}}(),function(){e.d=function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,s){var i,o,n=s[0],l=s[1],r=s[2],c=0;if(n.some((function(a){return 0!==t[a]}))){for(i in l)e.o(l,i)&&(e.m[i]=l[i]);if(r)var u=r(e)}for(a&&a(s);c<n.length;c++)o=n[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(u)},s=self["webpackChunkmoviedb_frontend"]=self["webpackChunkmoviedb_frontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(8164)}));s=e.O(s)})();
//# sourceMappingURL=app.94ea8ff4.js.map